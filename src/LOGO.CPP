/*
Logo waving effect
for Starcan

(c)Alex Dainiak
*/
int startlogo( int cycles )
{
int logo[15][38]={
0,0,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,
0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,
0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,
0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,1,
0,0,1,1,0,1,1,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,1,0,0,0,0,1,
0,0,1,0,0,0,1,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,1,0,0,0,1,
0,0,1,0,0,0,1,0,0,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,1,
0,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,0,1,1,0,1,
0,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,1,0,1,
0,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,1,
0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,
0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,
0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,
1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,
1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,
};
  float i, j, stepi, stepj, f, p;
  int x, y, k, l;
  int x1,y1;
  int isballlost;
  randomize();
  setcolor( 15 );
  stepi = 1;
  stepj = 1;
  j = 25;
  p = 0;

  if( cycles == 2 )
    isballlost = 1;
  else
    isballlost = 0;
//////////////////////////////////////////////
  while( !kbhit() && cycles )
  {
    clearviewport();
    //////////////////////////////////////////////
    for( i = 1; i < 1000; i+=stepi )
    {
      x = i + 15 * log( i + j ) * tan( j / 15.0 ) * sqrt( i / 20.0 );
      y = i + 10 * sin( i + j ) * exp( j / 15.0 ) * sqrt( i / 20.0 );
      putpixel( 320 + x, 240 + y, 15 );
      putpixel( 320 - x, 240 - y, 15 );
      putpixel( 320 + x, 240 - y, 15 );
      putpixel( 320 - x, 240 + y, 15 );
    }
    //////////////////////////////////////////////
    p += 0.3;

    if( p > M_PI * 2 ) p = 0;
      j += stepj;

    if( j > 70 || j < 25 )
    {
      stepj = -stepj;
      cycles--;
    }
    //////////////////////////////////////////////
    f = 58 - 1.3 * j;
    for( k = 0; k < 15; k++ )
      for( l = 0; l < 38; l++ )
        if( logo[k][l] )
        {
          x1 = 4 * l + 3 * sin( l / 5.0 + p );
          y1 = 4 * k - 3 * cos( l / 5.0 + p );
          if( abs( l - 19 ) < f )
          {
            putpixel( 239 + x1, 200 + y1, 9 );
            putpixel( 240 + x1, 199 + y1, 9 );
            putpixel( 240 + x1, 200 + y1, 15 );
            putpixel( 240 + x1, 201 + y1, 9 );
            putpixel( 241 + x1, 200 + y1, 9 );
          }
          else
          {
            putpixel( 239 + x1, 200 + y1, 1 );
            putpixel( 240 + x1, 199 + y1, 1 );
            putpixel( 240 + x1, 200 + y1, 1 );
            putpixel( 240 + x1, 201 + y1, 1 );
            putpixel( 241 + x1, 200 + y1, 1 );
          }
        }
    if( isballlost )
      outtextxy( 235, 230, "You've lost the ball!" );
  }

  if( kbhit() )
    return getch();
  else
    return 0;
}